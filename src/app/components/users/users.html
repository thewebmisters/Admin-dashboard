<div class="flex h-screen">
  <!-- Sidebar (Same as dashboard) -->
  <aside class="w-64 bg-slate-800 text-slate-200 flex flex-col">
    <div class="flex items-center justify-center p-4 border-b border-slate-700">
      <i class="pi pi-shield text-2xl"></i>
      <h1 class="text-2xl font-bold ml-2">Admin Panel</h1>
    </div>
    <nav class="flex-1 p-4 space-y-2">
      <a (click)="onNavigate('dashboard')" 
         class="flex items-center px-4 py-2 hover:bg-slate-700 rounded-lg transition-colors cursor-pointer">
        <i class="pi pi-home mr-3"></i> Dashboard
      </a>
      <a (click)="onNavigate('users')" 
         class="flex items-center px-4 py-2 bg-slate-700 text-white rounded-lg cursor-pointer">
        <i class="pi pi-users mr-3"></i> User Management
      </a>
      <a (click)="onNavigate('chat')" 
         class="flex items-center px-4 py-2 hover:bg-slate-700 rounded-lg transition-colors cursor-pointer">
        <i class="pi pi-comments mr-3"></i> Chat Moderation
      </a>
      <a (click)="onNavigate('payouts')" 
         class="flex items-center px-4 py-2 hover:bg-slate-700 rounded-lg transition-colors cursor-pointer">
        <i class="pi pi-dollar mr-3"></i> Payouts & Earnings
      </a>
      <a (click)="onNavigate('reports')" 
         class="flex items-center px-4 py-2 hover:bg-slate-700 rounded-lg transition-colors cursor-pointer">
        <i class="pi pi-chart-bar mr-3"></i> Reports
      </a>
    </nav>
    <div class="p-4 border-t border-slate-700">
      <a (click)="onLogout()" 
         class="flex items-center px-4 py-2 text-red-400 hover:bg-slate-700 rounded-lg transition-colors cursor-pointer">
        <i class="pi pi-sign-out mr-3"></i> Logout
      </a>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 flex flex-col overflow-hidden">
    <header class="bg-white border-b p-4 shadow-sm">
      <h2 class="text-2xl font-bold text-slate-800">User Management</h2>
    </header>
    <div class="flex-1 p-6 overflow-y-auto">
      <div class="bg-white p-6 rounded-lg shadow">
        <!-- Table Actions (Search, Filter) -->
        <div class="flex items-center justify-between mb-4">
          <input
            type="text"
            [(ngModel)]="searchTerm"
            (input)="onSearch()"
            placeholder="Search by name or email..."
            class="border rounded-lg px-4 py-2 w-1/3 focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
          <select 
            [(ngModel)]="selectedFilter"
            (change)="onFilterChange()"
            class="border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option>All Users</option>
            <option>Clients</option>
            <option>Writers</option>
            <option>Suspended</option>
          </select>
        </div>

        <!-- Users Table -->
        <div class="overflow-x-auto">
          <table class="min-w-full text-sm text-left text-slate-500">
            <thead class="text-xs text-slate-700 uppercase bg-slate-50">
              <tr>
                <th scope="col" class="px-6 py-3">Name</th>
                <th scope="col" class="px-6 py-3">Role</th>
                <th scope="col" class="px-6 py-3">Status</th>
                <th scope="col" class="px-6 py-3">Joined</th>
                <th scope="col" class="px-6 py-3 text-right">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let user of filteredUsers" 
                  class="bg-white border-b hover:bg-slate-50 transition-colors">
                <td class="px-6 py-4 font-medium text-slate-900">
                  {{ user.name }}
                </td>
                <td class="px-6 py-4">
                  <span [class]="getRoleClass(user.role)" 
                        class="text-xs font-semibold px-2 py-1 rounded-full">
                    {{ user.role }}
                  </span>
                </td>
                <td class="px-6 py-4">
                  <span [class]="getStatusClass(user.status)" class="font-semibold">
                    {{ user.status }}
                  </span>
                </td>
                <td class="px-6 py-4">{{ user.joinDate }}</td>
                <td class="px-6 py-4 text-right">
                  <button (click)="onViewUser(user)" 
                          class="font-medium text-blue-600 hover:underline">
                    View
                  </button>
                  <button (click)="onToggleUserStatus(user)" 
                          [class]="getActionButtonClass(user.status)"
                          class="font-medium hover:underline ml-4">
                    {{ getActionButtonText(user.status) }}
                  </button>
                </td>
              </tr>
              <tr *ngIf="filteredUsers.length === 0">
                <td colspan="5" class="px-6 py-8 text-center text-slate-500">
                  No users found matching your criteria.
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </main>
</div>