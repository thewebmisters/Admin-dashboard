<!-- Mobile Menu Backdrop -->
<div
  class="mobile-backdrop position-fixed top-0 start-0 w-100 h-100 bg-dark bg-opacity-50"
  style="z-index: 1040"
  [class.d-none]="!isMobileMenuOpen"
  (click)="toggleMobileMenu()"
></div>

<!-- Sidebar Navigation -->
<aside
  class="sidebar bg-dark text-light d-flex flex-column position-fixed position-md-relative"
  style="width: 280px; min-height: 100vh; z-index: 1050;"
  [class.d-none]="!isMobileMenuOpen"
  [class.d-md-flex]="true"
>
  <div class="d-flex align-items-center justify-content-between p-4 border-bottom border-secondary">
    <div class="d-flex align-items-center">
      <i class="pi pi-shield fs-3 me-2"></i>
      <h1 class="h4 mb-0 fw-bold">Admin Panel</h1>
    </div>
    <!-- Close button for mobile -->
    <button class="btn btn-outline-light d-md-none" (click)="toggleMobileMenu()" type="button">
      <i class="pi pi-times"></i>
    </button>
  </div>

  <!-- Navigation Menu -->
  <nav class="flex-fill p-3">
    <div class="nav flex-column nav-pills">
      <a
        (click)="onNavigate('dashboard')"
        class="nav-link d-flex align-items-center mb-2 text-light rounded"
        [class.active]="isActiveRoute('dashboard')"
        [class.bg-primary]="isActiveRoute('dashboard')"
        [class.hover-bg-secondary]="!isActiveRoute('dashboard')"
      >
        <i class="pi pi-home me-3"></i> Dashboard
      </a>
      
      @if (hasAccess('profiles')) {
        <a
          (click)="onNavigate('profiles')"
          class="nav-link d-flex align-items-center mb-2 text-light rounded"
          [class.active]="isActiveRoute('profiles')"
          [class.bg-primary]="isActiveRoute('profiles')"
          [class.hover-bg-secondary]="!isActiveRoute('profiles')"
        >
          <i class="pi pi-users me-3"></i> Profile Management
        </a>
      }
      
      @if (hasAccess('users')) {
        <a
          (click)="onNavigate('users')"
          class="nav-link d-flex align-items-center mb-2 text-light rounded"
          [class.active]="isActiveRoute('users')"
          [class.bg-primary]="isActiveRoute('users')"
          [class.hover-bg-secondary]="!isActiveRoute('users')"
        >
          <i class="pi pi-user me-3"></i> User Management
        </a>
      }
      
      <a
        (click)="onNavigate('chat')"
        class="nav-link d-flex align-items-center mb-2 text-light rounded"
        [class.active]="isActiveRoute('chat')"
        [class.bg-primary]="isActiveRoute('chat')"
        [class.hover-bg-secondary]="!isActiveRoute('chat')"
      >
        <i class="pi pi-comments me-3"></i> Chat Moderation
      </a>
      
      @if (hasAccess('payouts')) {
        <a
          (click)="onNavigate('payouts')"
          class="nav-link d-flex align-items-center mb-2 text-light rounded"
          [class.active]="isActiveRoute('payouts')"
          [class.bg-primary]="isActiveRoute('payouts')"
          [class.hover-bg-secondary]="!isActiveRoute('payouts')"
        >
          <i class="pi pi-dollar me-3"></i> Payouts & Earnings
        </a>
      }
      
      @if (hasAccess('reports')) {
        <a
          (click)="onNavigate('reports')"
          class="nav-link d-flex align-items-center mb-2 text-light rounded"
          [class.active]="isActiveRoute('reports')"
          [class.bg-primary]="isActiveRoute('reports')"
          [class.hover-bg-secondary]="!isActiveRoute('reports')"
        >
          <i class="pi pi-chart-bar me-3"></i> Reports
        </a>
      }
      
      @if (hasAccess('configurations')) {
        <a
          (click)="onNavigate('configurations')"
          class="nav-link d-flex align-items-center mb-2 text-light rounded"
          [class.active]="isActiveRoute('configurations')"
          [class.bg-primary]="isActiveRoute('configurations')"
          [class.hover-bg-secondary]="!isActiveRoute('configurations')"
        >
          <i class="pi pi-cog me-3"></i> System Configuration
        </a>
      }
    </div>
  </nav>

  <!-- Logout Section -->
  <div class="p-3 border-top border-secondary">
    <a
      (click)="onLogout()"
      class="nav-link d-flex align-items-center text-danger hover-bg-secondary rounded"
    >
      <i class="pi pi-sign-out me-3"></i> Logout
    </a>
  </div>
</aside>
